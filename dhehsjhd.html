<!doctype html>
<html lang=en>

<head>
    <title>azure.cosmos.errors.HTTPFailure: Status code: 401
        {&#34;code&#34;:&#34;Unauthorized&#34;,&#34;message&#34;:&#34;Required Header authorization is missing. Ensure a
        valid Authorization token is passed.\r\nActivityId: 6e475c71-4fbb-4b4d-a18c-e46a604b48a3,
        Microsoft.Azure.Documents.Common/2.14.0&#34;}
        // Werkzeug Debugger</title>
    <link rel="stylesheet" href="?__debugger__=yes&amp;cmd=resource&amp;f=style.css">
    <link rel="shortcut icon" href="?__debugger__=yes&amp;cmd=resource&amp;f=console.png">
    <script src="?__debugger__=yes&amp;cmd=resource&amp;f=debugger.js"></script>
    <script>
        var CONSOLE_MODE = false,
            EVALEX = true,
            EVALEX_TRUSTED = false,
            SECRET = "Ure35UVev7R5KGNIfO1X";
    </script>
</head>

<body style="background-color: #fff">
    <div class="debugger">
        <h1>HTTPFailure</h1>
        <div class="detail">
            <p class="errormsg">azure.cosmos.errors.HTTPFailure: Status code: 401
                {&#34;code&#34;:&#34;Unauthorized&#34;,&#34;message&#34;:&#34;Required Header authorization is missing.
                Ensure a valid Authorization token is passed.\r\nActivityId: 6e475c71-4fbb-4b4d-a18c-e46a604b48a3,
                Microsoft.Azure.Documents.Common/2.14.0&#34;}
            </p>
        </div>
        <h2 class="traceback">Traceback <em>(most recent call last)</em></h2>
        <div class="traceback">
            <h3></h3>
            <ul>
                <li>
                    <div class="frame" id="frame-140696373540448">
                        <h4>File <cite class="filename">"/usr/local/lib/python3.9/site-packages/flask/app.py"</cite>,
                            line <em class="line">1488</em>,
                            in <code class="function">__call__</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws">    </span>) -&gt; cabc.Iterable[bytes]:</pre>
                            <pre
                                class="line before"><span class="ws">        </span>&#34;&#34;&#34;The WSGI server calls the Flask application object as the</pre>
                            <pre
                                class="line before"><span class="ws">        </span>WSGI application. This calls :meth:`wsgi_app`, which can be</pre>
                            <pre class="line before"><span class="ws">        </span>wrapped to apply middleware.</pre>
                            <pre class="line before"><span class="ws">        </span>&#34;&#34;&#34;</pre>
                            <pre
                                class="line current"><span class="ws">        </span>return self.wsgi_app(environ, start_response)</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696373540784">
                        <h4>File <cite class="filename">"/usr/local/lib/python3.9/site-packages/flask/app.py"</cite>,
                            line <em class="line">1466</em>,
                            in <code class="function">wsgi_app</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws">            </span>try:</pre>
                            <pre class="line before"><span class="ws">                </span>ctx.push()</pre>
                            <pre
                                class="line before"><span class="ws">                </span>response = self.full_dispatch_request()</pre>
                            <pre class="line before"><span class="ws">            </span>except Exception as e:</pre>
                            <pre class="line before"><span class="ws">                </span>error = e</pre>
                            <pre
                                class="line current"><span class="ws">                </span>response = self.handle_exception(e)</pre>
                            <pre class="line after"><span class="ws">            </span>except:  # noqa: B001</pre>
                            <pre
                                class="line after"><span class="ws">                </span>error = sys.exc_info()[1]</pre>
                            <pre class="line after"><span class="ws">                </span>raise</pre>
                            <pre
                                class="line after"><span class="ws">            </span>return response(environ, start_response)</pre>
                            <pre class="line after"><span class="ws">        </span>finally:</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372708736">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/flask_cors/extension.py"</cite>,
                            line <em class="line">176</em>,
                            in <code class="function">wrapped_function</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">        </span># Wrap exception handlers with cross_origin</pre>
                            <pre
                                class="line before"><span class="ws">        </span># These error handlers will still respect the behavior of the route</pre>
                            <pre
                                class="line before"><span class="ws">        </span>if options.get(&#39;intercept_exceptions&#39;, True):</pre>
                            <pre
                                class="line before"><span class="ws">            </span>def _after_request_decorator(f):</pre>
                            <pre
                                class="line before"><span class="ws">                </span>def wrapped_function(*args, **kwargs):</pre>
                            <pre
                                class="line current"><span class="ws">                    </span>return cors_after_request(app.make_response(f(*args, **kwargs)))</pre>
                            <pre
                                class="line after"><span class="ws">                </span>return wrapped_function</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws">            </span>if hasattr(app, &#39;handle_exception&#39;):</pre>
                            <pre
                                class="line after"><span class="ws">                </span>app.handle_exception = _after_request_decorator(</pre>
                            <pre
                                class="line after"><span class="ws">                    </span>app.handle_exception)</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372708848">
                        <h4>File <cite class="filename">"/usr/local/lib/python3.9/site-packages/flask/app.py"</cite>,
                            line <em class="line">1463</em>,
                            in <code class="function">wsgi_app</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">        </span>ctx = self.request_context(environ)</pre>
                            <pre
                                class="line before"><span class="ws">        </span>error: BaseException | None = None</pre>
                            <pre class="line before"><span class="ws">        </span>try:</pre>
                            <pre class="line before"><span class="ws">            </span>try:</pre>
                            <pre class="line before"><span class="ws">                </span>ctx.push()</pre>
                            <pre
                                class="line current"><span class="ws">                </span>response = self.full_dispatch_request()</pre>
                            <pre class="line after"><span class="ws">            </span>except Exception as e:</pre>
                            <pre class="line after"><span class="ws">                </span>error = e</pre>
                            <pre
                                class="line after"><span class="ws">                </span>response = self.handle_exception(e)</pre>
                            <pre class="line after"><span class="ws">            </span>except:  # noqa: B001</pre>
                            <pre
                                class="line after"><span class="ws">                </span>error = sys.exc_info()[1]</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372708960">
                        <h4>File <cite class="filename">"/usr/local/lib/python3.9/site-packages/flask/app.py"</cite>,
                            line <em class="line">872</em>,
                            in <code class="function">full_dispatch_request</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>
                            <pre
                                class="line before"><span class="ws">            </span>rv = self.preprocess_request()</pre>
                            <pre class="line before"><span class="ws">            </span>if rv is None:</pre>
                            <pre
                                class="line before"><span class="ws">                </span>rv = self.dispatch_request()</pre>
                            <pre class="line before"><span class="ws">        </span>except Exception as e:</pre>
                            <pre
                                class="line current"><span class="ws">            </span>rv = self.handle_user_exception(e)</pre>
                            <pre
                                class="line after"><span class="ws">        </span>return self.finalize_request(rv)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre class="line after"><span class="ws">    </span>def finalize_request(</pre>
                            <pre class="line after"><span class="ws">        </span>self,</pre>
                            <pre
                                class="line after"><span class="ws">        </span>rv: ft.ResponseReturnValue | HTTPException,</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372709072">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/flask_cors/extension.py"</cite>,
                            line <em class="line">176</em>,
                            in <code class="function">wrapped_function</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">        </span># Wrap exception handlers with cross_origin</pre>
                            <pre
                                class="line before"><span class="ws">        </span># These error handlers will still respect the behavior of the route</pre>
                            <pre
                                class="line before"><span class="ws">        </span>if options.get(&#39;intercept_exceptions&#39;, True):</pre>
                            <pre
                                class="line before"><span class="ws">            </span>def _after_request_decorator(f):</pre>
                            <pre
                                class="line before"><span class="ws">                </span>def wrapped_function(*args, **kwargs):</pre>
                            <pre
                                class="line current"><span class="ws">                    </span>return cors_after_request(app.make_response(f(*args, **kwargs)))</pre>
                            <pre
                                class="line after"><span class="ws">                </span>return wrapped_function</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws">            </span>if hasattr(app, &#39;handle_exception&#39;):</pre>
                            <pre
                                class="line after"><span class="ws">                </span>app.handle_exception = _after_request_decorator(</pre>
                            <pre
                                class="line after"><span class="ws">                    </span>app.handle_exception)</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372709184">
                        <h4>File <cite class="filename">"/usr/local/lib/python3.9/site-packages/flask/app.py"</cite>,
                            line <em class="line">870</em>,
                            in <code class="function">full_dispatch_request</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre class="line before"><span class="ws">        </span>try:</pre>
                            <pre
                                class="line before"><span class="ws">            </span>request_started.send(self, _async_wrapper=self.ensure_sync)</pre>
                            <pre
                                class="line before"><span class="ws">            </span>rv = self.preprocess_request()</pre>
                            <pre class="line before"><span class="ws">            </span>if rv is None:</pre>
                            <pre
                                class="line current"><span class="ws">                </span>rv = self.dispatch_request()</pre>
                            <pre class="line after"><span class="ws">        </span>except Exception as e:</pre>
                            <pre
                                class="line after"><span class="ws">            </span>rv = self.handle_user_exception(e)</pre>
                            <pre
                                class="line after"><span class="ws">        </span>return self.finalize_request(rv)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre class="line after"><span class="ws">    </span>def finalize_request(</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372709296">
                        <h4>File <cite class="filename">"/usr/local/lib/python3.9/site-packages/flask/app.py"</cite>,
                            line <em class="line">855</em>,
                            in <code class="function">dispatch_request</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">            </span>and req.method == &#34;OPTIONS&#34;</pre>
                            <pre class="line before"><span class="ws">        </span>):</pre>
                            <pre
                                class="line before"><span class="ws">            </span>return self.make_default_options_response()</pre>
                            <pre
                                class="line before"><span class="ws">        </span># otherwise dispatch to the handler for that endpoint</pre>
                            <pre
                                class="line before"><span class="ws">        </span>view_args: dict[str, t.Any] = req.view_args  # type: ignore[assignment]</pre>
                            <pre
                                class="line current"><span class="ws">        </span>return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws">    </span>def full_dispatch_request(self) -&gt; Response:</pre>
                            <pre
                                class="line after"><span class="ws">        </span>&#34;&#34;&#34;Dispatches the request and on top of that performs request</pre>
                            <pre
                                class="line after"><span class="ws">        </span>pre and postprocessing as well as HTTP exception catching and</pre>
                            <pre class="line after"><span class="ws">        </span>error handling.</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372709408">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/flask_cors/decorator.py"</cite>,
                            line <em class="line">130</em>,
                            in <code class="function">wrapped_function</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">            </span>options = get_cors_options(current_app, _options)</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line before"><span class="ws">            </span>if options.get(&#39;automatic_options&#39;) and request.method == &#39;OPTIONS&#39;:</pre>
                            <pre
                                class="line before"><span class="ws">                </span>resp = current_app.make_default_options_response()</pre>
                            <pre class="line before"><span class="ws">            </span>else:</pre>
                            <pre
                                class="line current"><span class="ws">                </span>resp = make_response(f(*args, **kwargs))</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws">            </span>set_cors_headers(resp, options)</pre>
                            <pre
                                class="line after"><span class="ws">            </span>setattr(resp, FLASK_CORS_EVALUATED, True)</pre>
                            <pre class="line after"><span class="ws">            </span>return resp</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372709520">
                        <h4>File <cite class="filename">"/app/routes/deploy_server.py"</cite>,
                            line <em class="line">32</em>,
                            in <code class="function">deploy_dedicated</code></h4>
                        <div class="source ">
                            <pre
                                class="line before"><span class="ws">    </span>vcpu = not_none(int(request.args.get(&#34;cpu&#34;)))</pre>
                            <pre
                                class="line before"><span class="ws">    </span>servername = not_none(not_none(request.args.get(&#34;servername&#34;)))</pre>
                            <pre
                                class="line before"><span class="ws">    </span>dry_run = request.args.get(&#34;dry-run&#34;, default=None)</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line before"><span class="ws">    </span># Ensure that the combination [nameidentifier, servername] doesn&#39;t already exist</pre>
                            <pre
                                class="line current"><span class="ws">    </span>existing = find_user_server_by_google_nameidentifier(google_name_identifier, servername)</pre>
                            <pre
                                class="line after"><span class="ws">    </span>if existing is not None: return jsonify(</pre>
                            <pre
                                class="line after"><span class="ws">        </span>{&#34;error&#34;: &#34;User already has a server with this name!&#34;}), 400  # Upload server data to cosmos</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws">    </span># Ensure valid memory &amp; vcpu specification</pre>
                            <pre
                                class="line after"><span class="ws">    </span>if [vcpu, memory] not in allowed_values:</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372710640">
                        <h4>File <cite class="filename">"/app/logic/cosmos_store.py"</cite>,
                            line <em class="line">62</em>,
                            in <code class="function">find_user_server_by_google_nameidentifier</code></h4>
                        <div class="source ">
                            <pre
                                class="line before"><span class="ws">    </span>container_id = os.environ.get(&#34;COSMOS_SERVERS_CONTAINER_NAME&#34;)</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line before"><span class="ws">    </span>result_set = client.QueryItems(&#34;dbs/&#34; + database_id + &#34;/colls/&#34; + container_id, q,</pre>
                            <pre
                                class="line before"><span class="ws">                                   </span>{&#39;enableCrossPartitionQuery&#39;: True})</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line current"><span class="ws">    </span>results = [doc for doc in result_set]</pre>
                            <pre class="line after"><span class="ws">    </span>if len(results) == 0:</pre>
                            <pre class="line after"><span class="ws">        </span>return None</pre>
                            <pre class="line after"><span class="ws">    </span>elif len(results) &gt; 1:</pre>
                            <pre
                                class="line after"><span class="ws">        </span>raise ValueError(&#34;Cosmos query returned multiple hits!&#34;)</pre>
                            <pre class="line after"><span class="ws">    </span>return results[0]</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372710752">
                        <h4>File <cite class="filename">"/app/logic/cosmos_store.py"</cite>,
                            line <em class="line">62</em>,
                            in <code class="function">&lt;listcomp&gt;</code></h4>
                        <div class="source ">
                            <pre
                                class="line before"><span class="ws">    </span>container_id = os.environ.get(&#34;COSMOS_SERVERS_CONTAINER_NAME&#34;)</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line before"><span class="ws">    </span>result_set = client.QueryItems(&#34;dbs/&#34; + database_id + &#34;/colls/&#34; + container_id, q,</pre>
                            <pre
                                class="line before"><span class="ws">                                   </span>{&#39;enableCrossPartitionQuery&#39;: True})</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line current"><span class="ws">    </span>results = [doc for doc in result_set]</pre>
                            <pre class="line after"><span class="ws">    </span>if len(results) == 0:</pre>
                            <pre class="line after"><span class="ws">        </span>return None</pre>
                            <pre class="line after"><span class="ws">    </span>elif len(results) &gt; 1:</pre>
                            <pre
                                class="line after"><span class="ws">        </span>raise ValueError(&#34;Cosmos query returned multiple hits!&#34;)</pre>
                            <pre class="line after"><span class="ws">    </span>return results[0]</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372710864">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/query_iterable.py"</cite>,
                            line <em class="line">113</em>,
                            in <code class="function">__next__</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws">        </span>def __iter__(self):</pre>
                            <pre class="line before"><span class="ws">            </span># Always returns self</pre>
                            <pre class="line before"><span class="ws">            </span>return self</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre class="line before"><span class="ws">        </span>def __next__(self):</pre>
                            <pre
                                class="line current"><span class="ws">            </span>return next(self._ex_context)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws">        </span># Also support Python 3.x iteration</pre>
                            <pre class="line after"><span class="ws">        </span>def next(self):</pre>
                            <pre class="line after"><span class="ws">            </span>return self.__next__()</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372710976">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py"</cite>,
                            line <em class="line">108</em>,
                            in <code class="function">__next__</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre class="line before"><span class="ws">        </span>return self._buffer.popleft()</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre class="line before"><span class="ws">    </span>def __next__(self):</pre>
                            <pre class="line before"><span class="ws">        </span># supports python 3 iterator</pre>
                            <pre class="line current"><span class="ws">        </span>return self.next()</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws">    </span>def _fetch_items_helper_no_retries(self, fetch_function):</pre>
                            <pre
                                class="line after"><span class="ws">        </span>&#34;&#34;&#34;Fetches more items and doesn&#39;t retry on failure</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre class="line after"><span class="ws">        </span>:return:</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372711088">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/execution_dispatcher.py"</cite>,
                            line <em class="line">70</em>,
                            in <code class="function">next</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws">        </span>except HTTPFailure as e:</pre>
                            <pre
                                class="line before"><span class="ws">            </span>if self._is_partitioned_execution_info(e):</pre>
                            <pre
                                class="line before"><span class="ws">                </span>query_execution_info = self._get_partitioned_execution_info(e)</pre>
                            <pre
                                class="line before"><span class="ws">                </span>self._execution_context = self._create_pipelined_execution_context(query_execution_info)</pre>
                            <pre class="line before"><span class="ws">            </span>else:</pre>
                            <pre class="line current"><span class="ws">                </span>raise e</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws">        </span>return next(self._execution_context)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre class="line after"><span class="ws">    </span>def fetch_next_block(self):</pre>
                            <pre
                                class="line after"><span class="ws">        </span>&#34;&#34;&#34;Returns a block of results.</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372711200">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/execution_dispatcher.py"</cite>,
                            line <em class="line">64</em>,
                            in <code class="function">next</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws">        </span>:rtype: dict</pre>
                            <pre
                                class="line before"><span class="ws">        </span>:raises StopIteration: If no more result is left.</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre class="line before"><span class="ws">        </span>&#34;&#34;&#34;</pre>
                            <pre class="line before"><span class="ws">        </span>try:</pre>
                            <pre
                                class="line current"><span class="ws">            </span>return next(self._execution_context)</pre>
                            <pre class="line after"><span class="ws">        </span>except HTTPFailure as e:</pre>
                            <pre
                                class="line after"><span class="ws">            </span>if self._is_partitioned_execution_info(e):</pre>
                            <pre
                                class="line after"><span class="ws">                </span>query_execution_info = self._get_partitioned_execution_info(e)</pre>
                            <pre
                                class="line after"><span class="ws">                </span>self._execution_context = self._create_pipelined_execution_context(query_execution_info)</pre>
                            <pre class="line after"><span class="ws">            </span>else:</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372711312">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py"</cite>,
                            line <em class="line">108</em>,
                            in <code class="function">__next__</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre class="line before"><span class="ws">        </span>return self._buffer.popleft()</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre class="line before"><span class="ws">    </span>def __next__(self):</pre>
                            <pre class="line before"><span class="ws">        </span># supports python 3 iterator</pre>
                            <pre class="line current"><span class="ws">        </span>return self.next()</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws">    </span>def _fetch_items_helper_no_retries(self, fetch_function):</pre>
                            <pre
                                class="line after"><span class="ws">        </span>&#34;&#34;&#34;Fetches more items and doesn&#39;t retry on failure</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre class="line after"><span class="ws">        </span>:return:</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372736064">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py"</cite>,
                            line <em class="line">98</em>,
                            in <code class="function">next</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws">        </span>if self._has_finished:</pre>
                            <pre class="line before"><span class="ws">            </span>raise StopIteration</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre class="line before"><span class="ws">        </span>if not len(self._buffer):</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line current"><span class="ws">            </span>results = self.fetch_next_block()</pre>
                            <pre
                                class="line after"><span class="ws">            </span>self._buffer.extend(results)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre class="line after"><span class="ws">        </span>if not len(self._buffer):</pre>
                            <pre class="line after"><span class="ws">            </span>raise StopIteration</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372736176">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py"</cite>,
                            line <em class="line">76</em>,
                            in <code class="function">fetch_next_block</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws">            </span>res = list(self._buffer)</pre>
                            <pre class="line before"><span class="ws">            </span>self._buffer.clear()</pre>
                            <pre class="line before"><span class="ws">            </span>return res</pre>
                            <pre class="line before"><span class="ws">        </span>else:</pre>
                            <pre class="line before"><span class="ws">            </span># fetches the next block</pre>
                            <pre
                                class="line current"><span class="ws">            </span>return self._fetch_next_block()</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre class="line after"><span class="ws">    </span>def _fetch_next_block(self):</pre>
                            <pre class="line after"><span class="ws">        </span>raise NotImplementedError</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre class="line after"><span class="ws">    </span>def __iter__(self):</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372736288">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py"</cite>,
                            line <em class="line">169</em>,
                            in <code class="function">_fetch_next_block</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">        </span>super(_DefaultQueryExecutionContext, self).__init__(client, options)</pre>
                            <pre
                                class="line before"><span class="ws">        </span>self._fetch_function = fetch_function</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre class="line before"><span class="ws">    </span>def _fetch_next_block(self):</pre>
                            <pre
                                class="line before"><span class="ws">        </span>while super(_DefaultQueryExecutionContext, self)._has_more_pages() and len(self._buffer) == 0:</pre>
                            <pre
                                class="line current"><span class="ws">            </span>return self._fetch_items_helper_with_retries(self._fetch_function)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws"></span>class _MultiCollectionQueryExecutionContext(_QueryExecutionContextBase):</pre>
                            <pre class="line after"><span class="ws">    </span>&#34;&#34;&#34;</pre>
                            <pre
                                class="line after"><span class="ws">    </span>This class is used if it is client side partitioning</pre>
                            <pre class="line after"><span class="ws">    </span>&#34;&#34;&#34;</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372736400">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py"</cite>,
                            line <em class="line">143</em>,
                            in <code class="function">_fetch_items_helper_with_retries</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line before"><span class="ws">    </span>def _fetch_items_helper_with_retries(self, fetch_function):</pre>
                            <pre class="line before"><span class="ws">        </span>def callback():</pre>
                            <pre
                                class="line before"><span class="ws">            </span>return self._fetch_items_helper_no_retries(fetch_function)</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line current"><span class="ws">        </span>return retry_utility._Execute(self._client, self._client._global_endpoint_manager, callback)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws"></span>class _DefaultQueryExecutionContext(_QueryExecutionContextBase):</pre>
                            <pre class="line after"><span class="ws">    </span>&#34;&#34;&#34;</pre>
                            <pre
                                class="line after"><span class="ws">    </span>This is the default execution context.</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372736512">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py"</cite>,
                            line <em class="line">61</em>,
                            in <code class="function">_Execute</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws">    </span>while True:</pre>
                            <pre class="line before"><span class="ws">        </span>try:</pre>
                            <pre class="line before"><span class="ws">            </span>if args:</pre>
                            <pre
                                class="line before"><span class="ws">                </span>result = _ExecuteFunction(function, global_endpoint_manager, *args, **kwargs)</pre>
                            <pre class="line before"><span class="ws">            </span>else:</pre>
                            <pre
                                class="line current"><span class="ws">                </span>result = _ExecuteFunction(function, *args, **kwargs)</pre>
                            <pre
                                class="line after"><span class="ws">            </span>if not client.last_response_headers:</pre>
                            <pre
                                class="line after"><span class="ws">                </span>client.last_response_headers = {}</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws">            </span># setting the throttle related response headers before returning the result</pre>
                            <pre
                                class="line after"><span class="ws">            </span>client.last_response_headers[HttpHeaders.ThrottleRetryCount] = resourceThrottle_retry_policy.current_retry_attempt_count</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372736736">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py"</cite>,
                            line <em class="line">100</em>,
                            in <code class="function">_ExecuteFunction</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">                </span>time.sleep(retry_policy.retry_after_in_milliseconds / 1000.0)</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line before"><span class="ws"></span>def _ExecuteFunction(function, *args, **kwargs):</pre>
                            <pre
                                class="line before"><span class="ws">    </span>&#34;&#34;&#34; Stub method so that it can be used for mocking purposes as well.</pre>
                            <pre class="line before"><span class="ws">    </span>&#34;&#34;&#34;</pre>
                            <pre class="line current"><span class="ws">    </span>return function(*args, **kwargs)</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372736848">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py"</cite>,
                            line <em class="line">141</em>,
                            in <code class="function">callback</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws">                </span>break</pre>
                            <pre class="line before"><span class="ws">        </span>return fetched_items</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line before"><span class="ws">    </span>def _fetch_items_helper_with_retries(self, fetch_function):</pre>
                            <pre class="line before"><span class="ws">        </span>def callback():</pre>
                            <pre
                                class="line current"><span class="ws">            </span>return self._fetch_items_helper_no_retries(fetch_function)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws">        </span>return retry_utility._Execute(self._client, self._client._global_endpoint_manager, callback)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre
                                class="line after"><span class="ws"></span>class _DefaultQueryExecutionContext(_QueryExecutionContextBase):</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372737072">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py"</cite>,
                            line <em class="line">123</em>,
                            in <code class="function">_fetch_items_helper_no_retries</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">        </span># Continues pages till finds a non empty page or all results are exhausted</pre>
                            <pre
                                class="line before"><span class="ws">        </span>while self._continuation or not self._has_started:</pre>
                            <pre class="line before"><span class="ws">            </span>if not self._has_started:</pre>
                            <pre
                                class="line before"><span class="ws">                </span>self._has_started = True</pre>
                            <pre
                                class="line before"><span class="ws">            </span>self._options[&#39;continuation&#39;] = self._continuation</pre>
                            <pre
                                class="line current"><span class="ws">            </span>(fetched_items, response_headers) = fetch_function(self._options)</pre>
                            <pre class="line after"><span class="ws">            </span>fetched_items</pre>
                            <pre
                                class="line after"><span class="ws">            </span>continuation_key = http_constants.HttpHeaders.Continuation</pre>
                            <pre
                                class="line after"><span class="ws">            </span># Use Etag as continuation token for change feed queries.</pre>
                            <pre class="line after"><span class="ws">            </span>if self._is_change_feed:</pre>
                            <pre
                                class="line after"><span class="ws">                </span>continuation_key = http_constants.HttpHeaders.ETag</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372737184">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/cosmos_client.py"</cite>,
                            line <em class="line">878</em>,
                            in <code class="function">fetch_fn</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">            </span>return query_iterable.QueryIterable.PartitioningQueryIterable(self, query, options, database_or_Container_link, partition_key)</pre>
                            <pre class="line before"><span class="ws">        </span>else:</pre>
                            <pre
                                class="line before"><span class="ws">            </span>path = base.GetPathFromLink(database_or_Container_link, &#39;docs&#39;)</pre>
                            <pre
                                class="line before"><span class="ws">            </span>collection_id = base.GetResourceIdOrFullNameFromLink(database_or_Container_link)</pre>
                            <pre class="line before"><span class="ws">            </span>def fetch_fn(options):</pre>
                            <pre
                                class="line current"><span class="ws">                </span>return self.__QueryFeed(path,</pre>
                            <pre
                                class="line after"><span class="ws">                                        </span>&#39;docs&#39;,</pre>
                            <pre
                                class="line after"><span class="ws">                                        </span>collection_id,</pre>
                            <pre
                                class="line after"><span class="ws">                                        </span>lambda r: r[&#39;Documents&#39;],</pre>
                            <pre
                                class="line after"><span class="ws">                                        </span>lambda _, b: b,</pre>
                            <pre
                                class="line after"><span class="ws">                                        </span>query,</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372737296">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/cosmos_client.py"</cite>,
                            line <em class="line">2822</em>,
                            in <code class="function">__QueryFeed</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">                                      </span>path,</pre>
                            <pre
                                class="line before"><span class="ws">                                      </span>id,</pre>
                            <pre
                                class="line before"><span class="ws">                                      </span>type,</pre>
                            <pre
                                class="line before"><span class="ws">                                      </span>options,</pre>
                            <pre
                                class="line before"><span class="ws">                                      </span>partition_key_range_id)</pre>
                            <pre
                                class="line current"><span class="ws">            </span>result, self.last_response_headers = self.__Post(path,</pre>
                            <pre
                                class="line after"><span class="ws">                                                             </span>request,</pre>
                            <pre
                                class="line after"><span class="ws">                                                             </span>query,</pre>
                            <pre
                                class="line after"><span class="ws">                                                             </span>headers)</pre>
                            <pre
                                class="line after"><span class="ws">            </span>return __GetBodiesFromQueryResult(result)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372737520">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/cosmos_client.py"</cite>,
                            line <em class="line">2655</em>,
                            in <code class="function">__Post</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">            </span>Tuple of (result, headers).</pre>
                            <pre class="line before"><span class="ws">        </span>:rtype:</pre>
                            <pre class="line before"><span class="ws">            </span>tuple of (dict, dict)</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre class="line before"><span class="ws">        </span>&#34;&#34;&#34;</pre>
                            <pre
                                class="line current"><span class="ws">        </span>return synchronized_request.SynchronizedRequest(self,</pre>
                            <pre
                                class="line after"><span class="ws">                                                        </span>request,</pre>
                            <pre
                                class="line after"><span class="ws">                                                        </span>self._global_endpoint_manager,</pre>
                            <pre
                                class="line after"><span class="ws">                                                        </span>self.connection_policy,</pre>
                            <pre
                                class="line after"><span class="ws">                                                        </span>self._requests_session,</pre>
                            <pre
                                class="line after"><span class="ws">                                                        </span>&#39;POST&#39;,</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372737744">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/synchronized_request.py"</cite>,
                            line <em class="line">227</em>,
                            in <code class="function">SynchronizedRequest</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws">            </span>len(request_body))</pre>
                            <pre class="line before"><span class="ws">    </span>elif request_body is None:</pre>
                            <pre
                                class="line before"><span class="ws">        </span>request_options[&#39;headers&#39;][http_constants.HttpHeaders.ContentLength] = 0</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line before"><span class="ws">    </span># Pass _Request function with it&#39;s parameters to retry_utility&#39;s Execute method that wraps the call with retries</pre>
                            <pre
                                class="line current"><span class="ws">    </span>return retry_utility._Execute(client, global_endpoint_manager, _Request, request, connection_policy, requests_session, path, request_options, request_body)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372737856">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py"</cite>,
                            line <em class="line">59</em>,
                            in <code class="function">_Execute</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line before"><span class="ws">    </span>sessionRetry_policy = session_retry_policy._SessionRetryPolicy(client.connection_policy.EnableEndpointDiscovery, global_endpoint_manager, *args)</pre>
                            <pre class="line before"><span class="ws">    </span>while True:</pre>
                            <pre class="line before"><span class="ws">        </span>try:</pre>
                            <pre class="line before"><span class="ws">            </span>if args:</pre>
                            <pre
                                class="line current"><span class="ws">                </span>result = _ExecuteFunction(function, global_endpoint_manager, *args, **kwargs)</pre>
                            <pre class="line after"><span class="ws">            </span>else:</pre>
                            <pre
                                class="line after"><span class="ws">                </span>result = _ExecuteFunction(function, *args, **kwargs)</pre>
                            <pre
                                class="line after"><span class="ws">            </span>if not client.last_response_headers:</pre>
                            <pre
                                class="line after"><span class="ws">                </span>client.last_response_headers = {}</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372737968">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py"</cite>,
                            line <em class="line">100</em>,
                            in <code class="function">_ExecuteFunction</code></h4>
                        <div class="source library">
                            <pre
                                class="line before"><span class="ws">                </span>time.sleep(retry_policy.retry_after_in_milliseconds / 1000.0)</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line before"><span class="ws"></span>def _ExecuteFunction(function, *args, **kwargs):</pre>
                            <pre
                                class="line before"><span class="ws">    </span>&#34;&#34;&#34; Stub method so that it can be used for mocking purposes as well.</pre>
                            <pre class="line before"><span class="ws">    </span>&#34;&#34;&#34;</pre>
                            <pre class="line current"><span class="ws">    </span>return function(*args, **kwargs)</pre>
                        </div>
                    </div>

                <li>
                    <div class="frame" id="frame-140696372738080">
                        <h4>File <cite
                                class="filename">"/usr/local/lib/python3.9/site-packages/azure/cosmos/synchronized_request.py"</cite>,
                            line <em class="line">159</em>,
                            in <code class="function">_Request</code></h4>
                        <div class="source library">
                            <pre class="line before"><span class="ws">    </span>if not six.PY2:</pre>
                            <pre
                                class="line before"><span class="ws">        </span># python 3 compatible: convert data from byte to unicode string</pre>
                            <pre
                                class="line before"><span class="ws">        </span>data = data.decode(&#39;utf-8&#39;)</pre>
                            <pre class="line before"><span class="ws"></span> </pre>
                            <pre
                                class="line before"><span class="ws">    </span>if response.status_code &gt;= 400:</pre>
                            <pre
                                class="line current"><span class="ws">        </span>raise errors.HTTPFailure(response.status_code, data, headers)</pre>
                            <pre class="line after"><span class="ws"></span> </pre>
                            <pre class="line after"><span class="ws">    </span>result = None</pre>
                            <pre class="line after"><span class="ws">    </span>if is_media:</pre>
                            <pre class="line after"><span class="ws">        </span>result = data</pre>
                            <pre class="line after"><span class="ws">    </span>else:</pre>
                        </div>
                    </div>
            </ul>
            <blockquote>azure.cosmos.errors.HTTPFailure: Status code: 401
                {&#34;code&#34;:&#34;Unauthorized&#34;,&#34;message&#34;:&#34;Required Header authorization is missing.
                Ensure a valid Authorization token is passed.\r\nActivityId: 6e475c71-4fbb-4b4d-a18c-e46a604b48a3,
                Microsoft.Azure.Documents.Common/2.14.0&#34;}
            </blockquote>
        </div>

        <div class="plain">
            <p>
                This is the Copy/Paste friendly version of the traceback.
            </p>
            <textarea cols="50" rows="10" name="code" readonly>Traceback (most recent call last):
  File &#34;/usr/local/lib/python3.9/site-packages/flask/app.py&#34;, line 1488, in __call__
    return self.wsgi_app(environ, start_response)
  File &#34;/usr/local/lib/python3.9/site-packages/flask/app.py&#34;, line 1466, in wsgi_app
    response = self.handle_exception(e)
  File &#34;/usr/local/lib/python3.9/site-packages/flask_cors/extension.py&#34;, line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File &#34;/usr/local/lib/python3.9/site-packages/flask/app.py&#34;, line 1463, in wsgi_app
    response = self.full_dispatch_request()
  File &#34;/usr/local/lib/python3.9/site-packages/flask/app.py&#34;, line 872, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File &#34;/usr/local/lib/python3.9/site-packages/flask_cors/extension.py&#34;, line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File &#34;/usr/local/lib/python3.9/site-packages/flask/app.py&#34;, line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File &#34;/usr/local/lib/python3.9/site-packages/flask/app.py&#34;, line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File &#34;/usr/local/lib/python3.9/site-packages/flask_cors/decorator.py&#34;, line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File &#34;/app/routes/deploy_server.py&#34;, line 32, in deploy_dedicated
    existing = find_user_server_by_google_nameidentifier(google_name_identifier, servername)
  File &#34;/app/logic/cosmos_store.py&#34;, line 62, in find_user_server_by_google_nameidentifier
    results = [doc for doc in result_set]
  File &#34;/app/logic/cosmos_store.py&#34;, line 62, in &lt;listcomp&gt;
    results = [doc for doc in result_set]
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/query_iterable.py&#34;, line 113, in __next__
    return next(self._ex_context)
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py&#34;, line 108, in __next__
    return self.next()
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/execution_dispatcher.py&#34;, line 70, in next
    raise e
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/execution_dispatcher.py&#34;, line 64, in next
    return next(self._execution_context)
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py&#34;, line 108, in __next__
    return self.next()
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py&#34;, line 98, in next
    results = self.fetch_next_block()
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py&#34;, line 76, in fetch_next_block
    return self._fetch_next_block()
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py&#34;, line 169, in _fetch_next_block
    return self._fetch_items_helper_with_retries(self._fetch_function)
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py&#34;, line 143, in _fetch_items_helper_with_retries
    return retry_utility._Execute(self._client, self._client._global_endpoint_manager, callback)
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py&#34;, line 61, in _Execute
    result = _ExecuteFunction(function, *args, **kwargs)
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py&#34;, line 100, in _ExecuteFunction
    return function(*args, **kwargs)
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py&#34;, line 141, in callback
    return self._fetch_items_helper_no_retries(fetch_function)
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py&#34;, line 123, in _fetch_items_helper_no_retries
    (fetched_items, response_headers) = fetch_function(self._options)
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/cosmos_client.py&#34;, line 878, in fetch_fn
    return self.__QueryFeed(path,
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/cosmos_client.py&#34;, line 2822, in __QueryFeed
    result, self.last_response_headers = self.__Post(path,
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/cosmos_client.py&#34;, line 2655, in __Post
    return synchronized_request.SynchronizedRequest(self,
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/synchronized_request.py&#34;, line 227, in SynchronizedRequest
    return retry_utility._Execute(client, global_endpoint_manager, _Request, request, connection_policy, requests_session, path, request_options, request_body)
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py&#34;, line 59, in _Execute
    result = _ExecuteFunction(function, global_endpoint_manager, *args, **kwargs)
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py&#34;, line 100, in _ExecuteFunction
    return function(*args, **kwargs)
  File &#34;/usr/local/lib/python3.9/site-packages/azure/cosmos/synchronized_request.py&#34;, line 159, in _Request
    raise errors.HTTPFailure(response.status_code, data, headers)
azure.cosmos.errors.HTTPFailure: Status code: 401
{&#34;code&#34;:&#34;Unauthorized&#34;,&#34;message&#34;:&#34;Required Header authorization is missing. Ensure a valid Authorization token is passed.\r\nActivityId: 6e475c71-4fbb-4b4d-a18c-e46a604b48a3, Microsoft.Azure.Documents.Common/2.14.0&#34;}
</textarea>
        </div>
        <div class="explanation">
            The debugger caught an exception in your WSGI application. You can now
            look at the traceback which led to the error. <span class="nojavascript">
                If you enable JavaScript you can also use additional features such as code
                execution (if the evalex feature is enabled), automatic pasting of the
                exceptions and much more.</span>
        </div>
        <div class="footer">
            Brought to you by <strong class="arthur">DON'T PANIC</strong>, your
            friendly Werkzeug powered traceback interpreter.
        </div>
    </div>

    <div class="pin-prompt">
        <div class="inner">
            <h3>Console Locked</h3>
            <p>
                The console is locked and needs to be unlocked by entering the PIN.
                You can find the PIN printed out on the standard output of your
                shell that runs the server.
            <form>
                <p>PIN:
                    <input type=text name=pin size=14>
                    <input type=submit name=btn value="Confirm Pin">
            </form>
        </div>
    </div>
</body>

</html>

<!--

Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/flask/app.py", line 1488, in __call__
    return self.wsgi_app(environ, start_response)
  File "/usr/local/lib/python3.9/site-packages/flask/app.py", line 1466, in wsgi_app
    response = self.handle_exception(e)
  File "/usr/local/lib/python3.9/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "/usr/local/lib/python3.9/site-packages/flask/app.py", line 1463, in wsgi_app
    response = self.full_dispatch_request()
  File "/usr/local/lib/python3.9/site-packages/flask/app.py", line 872, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/usr/local/lib/python3.9/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "/usr/local/lib/python3.9/site-packages/flask/app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "/usr/local/lib/python3.9/site-packages/flask/app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/usr/local/lib/python3.9/site-packages/flask_cors/decorator.py", line 130, in wrapped_function
    resp = make_response(f(*args, **kwargs))
  File "/app/routes/deploy_server.py", line 32, in deploy_dedicated
    existing = find_user_server_by_google_nameidentifier(google_name_identifier, servername)
  File "/app/logic/cosmos_store.py", line 62, in find_user_server_by_google_nameidentifier
    results = [doc for doc in result_set]
  File "/app/logic/cosmos_store.py", line 62, in <listcomp>
    results = [doc for doc in result_set]
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/query_iterable.py", line 113, in __next__
    return next(self._ex_context)
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py", line 108, in __next__
    return self.next()
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/execution_dispatcher.py", line 70, in next
    raise e
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/execution_dispatcher.py", line 64, in next
    return next(self._execution_context)
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py", line 108, in __next__
    return self.next()
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py", line 98, in next
    results = self.fetch_next_block()
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py", line 76, in fetch_next_block
    return self._fetch_next_block()
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py", line 169, in _fetch_next_block
    return self._fetch_items_helper_with_retries(self._fetch_function)
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py", line 143, in _fetch_items_helper_with_retries
    return retry_utility._Execute(self._client, self._client._global_endpoint_manager, callback)
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py", line 61, in _Execute
    result = _ExecuteFunction(function, *args, **kwargs)
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py", line 100, in _ExecuteFunction
    return function(*args, **kwargs)
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py", line 141, in callback
    return self._fetch_items_helper_no_retries(fetch_function)
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/execution_context/base_execution_context.py", line 123, in _fetch_items_helper_no_retries
    (fetched_items, response_headers) = fetch_function(self._options)
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/cosmos_client.py", line 878, in fetch_fn
    return self.__QueryFeed(path,
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/cosmos_client.py", line 2822, in __QueryFeed
    result, self.last_response_headers = self.__Post(path,
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/cosmos_client.py", line 2655, in __Post
    return synchronized_request.SynchronizedRequest(self,
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/synchronized_request.py", line 227, in SynchronizedRequest
    return retry_utility._Execute(client, global_endpoint_manager, _Request, request, connection_policy, requests_session, path, request_options, request_body)
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py", line 59, in _Execute
    result = _ExecuteFunction(function, global_endpoint_manager, *args, **kwargs)
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/retry_utility.py", line 100, in _ExecuteFunction
    return function(*args, **kwargs)
  File "/usr/local/lib/python3.9/site-packages/azure/cosmos/synchronized_request.py", line 159, in _Request
    raise errors.HTTPFailure(response.status_code, data, headers)
azure.cosmos.errors.HTTPFailure: Status code: 401
{"code":"Unauthorized","message":"Required Header authorization is missing. Ensure a valid Authorization token is passed.\r\nActivityId: 6e475c71-4fbb-4b4d-a18c-e46a604b48a3, Microsoft.Azure.Documents.Common/2.14.0"}


-->